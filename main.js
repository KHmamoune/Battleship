(()=>{var t={368:t=>{class e{constructor(t,e){this.length=t,this.hits=0,this.sunk=!1,this.type=e}hit(){this.hits+=1,this.isSunk()}isSunk(){this.hits>=this.length&&(this.sunk=!0)}}t.exports={Ship:e,Gameboard:class{constructor(){this.ships=[],this.board=new Array(10);for(let t=0;t<10;t++)this.board[t]=new Array(10).fill("empty")}placeShip(t,s,r){let a=new e(t,r);for(let t=0;t<a.length;t++)"h"==r?this.board[s[0]][s[1]+t]=this.ships.length:"v"==r&&(this.board[s[0]+t][s[1]]=this.ships.length);this.ships.push(a)}recieveAttack(t){let e=this.board[t[0]][t[1]];"empty"!=e?(this.ships[e].hit(),this.board[t[0]][t[1]]="hit",this.shipsSunk()&&console.log("all ships are sunk")):this.board[t[0]][t[1]]="miss"}shipsSunk(){for(let t=0;t<this.ships.length;t++)if(!this.ships[t].sunk)return!1;return!0}isMoveLegal(t){return!(t[0]>9||t[1]>9)&&"hit"!=this.board[t[0]][t[1]]&&"miss"!=this.board[t[0]][t[1]]}createBoard(t,e){for(let s=0;s<10;s++)for(let r=0;r<10;r++){const a=document.createElement("div");a.classList.add("cell"),"oponent"==e?("hit"==this.board[s][r]?a.classList.add("hit"):"miss"==this.board[s][r]?a.classList.add("miss"):a.classList.add("oponent"),t.appendChild(a)):("empty"==this.board[s][r]?a.classList.add("empty"):"hit"==this.board[s][r]?a.classList.add("hit"):"miss"==this.board[s][r]?a.classList.add("miss"):a.classList.add("ship"),t.appendChild(a))}}randomGeneration(){let t=["v","h"],e=[2,3,4],s=[0,0];for(let r=0;r<e.length;r++){let a=t[Math.floor(2*Math.random())];do{"v"==a?(s[0]=Math.floor(Math.random()*(10-e[r])),s[1]=Math.floor(10*Math.random())):(s[0]=Math.floor(10*Math.random()),s[1]=Math.floor(Math.random()*(10-e[r])))}while(!this.checkShip(e[r],s,a));this.placeShip(e[r],s,a)}}checkShip(t,e,s){if("v"==s){for(let s=0;s<t;s++)if("empty"!=this.board[e[0]+s][e[1]])return!1}else for(let s=0;s<t;s++)if("empty"!=this.board[e[0]][e[1]+s])return!1;return!0}},Player:class{constructor(t){this.name=t}attack(t,e){t.recieveAttack(e)}}}}},e={};function s(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,s),i.exports}(()=>{const t=s(368),e=document.querySelector(".b1"),r=document.querySelector(".b2"),a=document.querySelector(".x"),i=document.querySelector(".y"),o=document.querySelector(".btn"),h=document.querySelector(".txt");let n=0,l=[10,10],d=new t.Player("player"),c=new t.Player("computer"),p=new t.Gameboard,u=new t.Gameboard;function m(){document.querySelectorAll(".cell").forEach((t=>t.remove())),p.createBoard(e,"player"),u.createBoard(r,"oponent"),p.shipsSunk()&&(h.textContent=c.name+" is the winner",n=2,o.disabled=!0),u.shipsSunk()&&(h.textContent=d.name+" is the winner",n=2,o.disabled=!0)}p.randomGeneration(),u.randomGeneration(),p.createBoard(e,"player"),u.createBoard(r,"oponent"),o.addEventListener("click",(()=>{if(l[0]=a.value,l[1]=i.value,u.isMoveLegal(l)&&(d.attack(u,l),n=1),m(),1==n){for(l=[10,10];!p.isMoveLegal(l);)l[0]=Math.floor(10*Math.random()),l[1]=Math.floor(10*Math.random());c.attack(p,l),n=0}m()}))})()})();